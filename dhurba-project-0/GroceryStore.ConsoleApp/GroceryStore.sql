select * from product
--DROP TABLE INVENTORY_STORE

CREATE TABLE CUSTOMER(
CUSTOMER_ID      INT         NOT NULL  PRIMARY KEY,
FIRST_NAME       VARCHAR(30) NOT NULL ,
LAST_NAME        VARCHAR(30) NOT NULL,
)
INSERT INTO CUSTOMER VALUES
(123456789,'DHURBA','GHIMIRE'),
(234567890,'ROCKY','MAHARJAN'),
(345678901,'JOHN','PING')

CREATE TABLE STORE(
STORE_ID        VARCHAR(30)  NOT NULL PRIMARY KEY, 
NAME            VARCHAR(30)  NOT NULL ,
CITY             VARCHAR(30)  NOT NULL ,
STATE            VARCHAR(30)  NOT NULL ,
)
INSERT INTO STORE VALUES
('STORE1','NEWALBANY_GROCERY','COLUMBUS','OHIO'),
('STORE2','GAHANA_GROCERY','COLUMBUS','OHIO'),
('STORE3','BLACKLICK_GROCERY','COLOMBUS','OHIO')

CREATE TABLE PRODUCT(
PRODUCT_ID      VARCHAR(30)  NOT NULL PRIMARY KEY,
NAME            VARCHAR(30)  NOT NULL ,
)
INSERT INTO PRODUCT VALUES
('01','APPLE'),
('02','ORANGE'),
('03','MANGO'),
('04','POTATO'),
('05','CAULIFLOWER')

CREATE TABLE CUSTOMER_ORDER(
ORDER_ID        INT              NOT NULL       PRIMARY KEY  IDENTITY(1,1),
STORE_ID        VARCHAR(30)      NOT NULL       FOREIGN KEY REFERENCES STORE(STORE_ID),
CUSTOMER_ID     int      NOT NULL       FOREIGN KEY REFERENCES CUSTOMER(CUSTOMER_ID), 
ORDER_DATE      DATE             NOT NULL       DEFAULT GETDATE()
)

CREATE TABLE ORDER_ITEM(
ITEM_ID       INT              NOT NULL      PRIMARY KEY  IDENTITY(1,1),
ORDER_ID      INT              NOT NULL      FOREIGN KEY REFERENCES CUSTOMER_ORDER(ORDER_ID),
PRODUCT_ID    VARCHAR(30)      NOT NULL      FOREIGN KEY REFERENCES PRODUCT(PRODUCT_ID),
QUANTITY      INT              NOT NULL ,
)

--CREATE TABLE PRICE(
--STORE_ID        VARCHAR(30)      NOT NULL       FOREIGN KEY REFERENCES STORE.STORE_ID,
--PRODUCT_ID    VARCHAR(30)      NOT NULL      FOREIGN KEY REFERENCES PRODUCT.PRODUCT_ID,

--)
CREATE TABLE INVENTORY_STORE(
STORE_ID        VARCHAR(30)  NOT NULL FOREIGN KEY REFERENCES STORE(STORE_ID), 
PRODUCT_ID      VARCHAR(30)  NOT NULL FOREIGN KEY REFERENCES PRODUCT(PRODUCT_ID),
PRODUCT_QUANTITY INT         NOT NULL,
PRICE            DECIMAL(10,5)     NOT NULL
)
INSERT INTO INVENTORY_STORE VALUES
('STORE1','01',100,1.00),('STORE1','02',100,1.00),('STORE1','03',100,1.00),
('STORE2','01',200,1.20),('STORE2','02',200,1.20),('STORE2','03',200,1.20),
('STORE3','01',300,1.30),('STORE3','02',300,1.30),('STORE3','03',300,1.30)

SELECT * FROM INVENTORY_STORE AS INV
LEFT JOIN STORE AS S ON INV.STORE_ID=S.STORE_ID



